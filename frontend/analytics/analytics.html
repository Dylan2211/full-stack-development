<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EGRA Team Project - Analytics</title>
  <link rel="stylesheet" href="/analytics/analytics.css" />
</head>
<body>
  <div class="app">
    <!-- Top bar -->
    <header class="topbar">
      <div class="brand">
        <div class="logo">S</div>
        <div class="brand-text">
          <div class="brand-title">EGRA Team Project</div>
        </div>
      </div>
    </header>

    <main class="layout">
      <!-- Left: Events -->
      <aside class="panel events">
        <h2>Events</h2>

        <ul class="event-list" id="events-list">
          <li class="event-item">
            <div class="event-title">Task ‚ÄúSync pipeline metadata refs‚Äù assigned to Agent Orion</div>
            <div class="event-sub">2 mins ago</div>
          </li>

          <li class="event-item">
            <div class="event-title">Agent Orion started execution on ‚ÄúSync pipeline metadata refs‚Äù</div>
            <div class="event-sub">6 mins ago</div>
          </li>

          <li class="event-item">
            <div class="event-title">Workflow Trigger: New PR opened on /backend/auth</div>
            <div class="event-sub">12 mins ago</div>
          </li>

          <li class="event-item">
            <div class="event-title">Agent Gemini status changed: Idle</div>
            <div class="event-sub">20 mins ago</div>
          </li>

          <li class="event-item">
            <div class="event-title">Agent Gemini completed ‚ÄúMake report‚Äù</div>
            <div class="event-sub">35 mins ago</div>
          </li>

          <li class="event-item">
            <div class="event-title">Task created: ‚ÄúSync pipeline metadata refs‚Äù</div>
            <div class="event-sub">1 hr ago</div>
          </li>
        </ul>
      </aside>

      <!-- Center: main stats -->
      <section class="panel main">
        <div class="kpi-row">
          <div class="card kpi">
            <div class="kpi-value" id="metric-latency">‚Äì</div>
            <div class="kpi-label">Avg response time</div>
            <div class="kpi-note">Updates live</div>
          </div>
        </div>

        <div class="card chart-card">
          <div class="card-header">
            <h3>Weekly Usage</h3>
            <p class="muted">Tokens used per day</p>
          </div>

          <!-- Simple CSS bar chart -->
          <div class="bar-chart" id="weekly-usage" aria-label="Weekly token usage bar chart">
            <div class="bar" style="--h: 54%;">
              <span class="bar-top">850</span>
              <span class="bar-label">Mon</span>
            </div>
            <div class="bar" style="--h: 79%;">
              <span class="bar-top">1250</span>
              <span class="bar-label">Tue</span>
            </div>
            <div class="bar" style="--h: 88%;">
              <span class="bar-top">1400</span>
              <span class="bar-label">Wed</span>
            </div>
            <div class="bar" style="--h: 82%;">
              <span class="bar-top">1300</span>
              <span class="bar-label">Thu</span>
            </div>
            <div class="bar" style="--h: 60%;">
              <span class="bar-top">950</span>
              <span class="bar-label">Fri</span>
            </div>
            <div class="bar" style="--h: 8%;">
              <span class="bar-top">90</span>
              <span class="bar-label">Sat</span>
            </div>
            <div class="bar" style="--h: 50%;">
              <span class="bar-top">780</span>
              <span class="bar-label">Sun</span>
            </div>
          </div>
        </div>


        <div class="card">
          <div class="live-head">
            <div>
              <h3>Live requests</h3>
              <p class="muted">Request per Minute</p>
            </div>
            <div class="live-badge" id="metric-live-requests">‚Äì</div>
          </div>

          <div class="bar-chart small" id="live-chart">
            <div class="bar" style="--h: 45%;">
              <span class="bar-top">40</span>
              <span class="bar-label">60s</span>
            </div>
            <div class="bar" style="--h: 10%;">
              <span class="bar-top">8</span>
              <span class="bar-label">45s</span>
            </div>
            <div class="bar" style="--h: 82%;">
              <span class="bar-top">78</span>
              <span class="bar-label">30s</span>
            </div>
            <div class="bar" style="--h: 92%;">
              <span class="bar-top">88</span>
              <span class="bar-label">15s</span>
            </div>
            <div class="bar" style="--h: 65%;">
              <span class="bar-top">62</span>
              <span class="bar-label">Now</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Right: AI agents -->
      <aside class="panel agents">
        <h2>Ai agents</h2>

        <div class="agent-card">
          <div class="agent-top">
            <div class="agent-name">Gemini</div>
          </div>
          <div class="agent-metrics">
            <div>
              <div class="agent-metric-label muted">Calls</div>
              <div class="agent-metric-value" id="agent-gemini-calls">‚Äì</div>
            </div>
            <div class="divider"></div>
            <div>
              <div class="agent-metric-label muted">Avg ms</div>
              <div class="agent-metric-value" id="agent-gemini-latency">‚Äì</div>
            </div>
            <div class="agent-avatar">‚ú®</div>
          </div>
        </div>

        <div class="agent-card">
          <div class="agent-top">
            <div class="agent-name">Groq</div>
          </div>
          <div class="agent-metrics">
            <div>
              <div class="agent-metric-label muted">Calls</div>
              <div class="agent-metric-value" id="agent-groq-calls">‚Äì</div>
            </div>
            <div class="divider"></div>
            <div>
              <div class="agent-metric-label muted">Avg ms</div>
              <div class="agent-metric-value" id="agent-groq-latency">‚Äì</div>
            </div>
            <div class="agent-avatar">üß†</div>
          </div>
        </div>

        <div class="agent-card">
          <div class="agent-top">
            <div class="agent-name">ChatGPT</div>
          </div>
          <div class="agent-metrics">
            <div>
              <div class="agent-metric-label muted">Calls</div>
              <div class="agent-metric-value" id="agent-openai-calls">‚Äì</div>
            </div>
            <div class="divider"></div>
            <div>
              <div class="agent-metric-label muted">Avg ms</div>
              <div class="agent-metric-value" id="agent-openai-latency">‚Äì</div>
            </div>
            <div class="agent-avatar">ü§ñ</div>
          </div>
        </div>
       </aside>
     </main>
   </div>
   <script src="/analytics/analytics.js"></script>
 </body>
 </html>
